{
    "tools": [
        {
            "step": 1,
            "label": "frontend",
            "introduction": "Retrieves the connected user\u2019s Neutron bech32 address from the browser wallet (Keplr/Leap).",
            "function": "getUserWalletAddress()",
            "usage": "const sender = await getUserWalletAddress();"
        },
        {
            "step": 2,
            "label": "backend",
            "introduction": "Queries on-chain balances and confirms the address holds at least the required 1 WBTC.",
            "function": "check_token_balance(address, wbtc_needed=1, usdc_needed=60000)",
            "usage": "await check_token_balance(sender, wbtc_needed=1);"
        },
        {
            "step": 3,
            "label": "backend",
            "introduction": "No implemented helper was found that returns the Amber lending-pool contract for WBTC.",
            "function": "undef",
            "usage": "undef"
        },
        {
            "step": 4,
            "label": "frontend",
            "introduction": "Creates a CosmWasm MsgExecuteContract that wraps the `{ supply: { amount, denom } }` payload for the pool.",
            "function": "constructTxWasmExecute(senderAddress, contractAddress, msg, funds)",
            "usage": "const execMsg = constructTxWasmExecute(sender, poolContract, { supply: { amount: '1', denom: 'WBTC' } }, []);"
        },
        {
            "step": 5,
            "label": "backend",
            "introduction": "Signs the prepared transaction with the provided wallet key and broadcasts it to Neutron, returning the tx-hash.",
            "function": "sign_and_broadcast_tx(tx, wallet, client)",
            "usage": "const txHash = sign_and_broadcast_tx(tx, wallet, client);"
        }
    ],
    "frontend": [
        "const sender = await getUserWalletAddress();//step: 1 Tool: get_user_wallet_address Desciption: Identify the sender\u2019s Neutron address.",
        "const execMsg = constructTxWasmExecute(sender, poolContract, { supply: { amount: '1', denom: 'WBTC' } }, []);//step: 4 Tool: construct_wasm_execute_supply Desciption: Create a wasm execute message `{ \"supply\": { \"amount\": \"1\", \"denom\": \"WBTC\" } }` (or CW20 send) to supply liquidity."
    ],
    "backend": [
        "await check_token_balance(sender, wbtc_needed=1);#step: 2 Tool: validate_asset_balance Desciption: Verify the wallet has at least 1 WBTC available for lending.",
        "undef#step: 3 Tool: get_amber_lending_pool_contract Desciption: Lookup the Amber Finance lending pool (cToken) contract that accepts WBTC.",
        "const txHash = sign_and_broadcast_tx(tx, wallet, client);#step: 5 Tool: sign_and_broadcast_tx Desciption: Sign and broadcast the supply transaction."
    ],
    "intent": "Lend 1 WBTC on Amber Finance",
    "workflow": [
        {
            "step": 1,
            "tool": "get_user_wallet_address",
            "description": "Identify the sender\u2019s Neutron address."
        },
        {
            "step": 2,
            "tool": "validate_asset_balance",
            "description": "Verify the wallet has at least 1 WBTC available for lending."
        },
        {
            "step": 3,
            "tool": "get_amber_lending_pool_contract",
            "description": "Lookup the Amber Finance lending pool (cToken) contract that accepts WBTC."
        },
        {
            "step": 4,
            "tool": "construct_wasm_execute_supply",
            "description": "Create a wasm execute message `{ \"supply\": { \"amount\": \"1\", \"denom\": \"WBTC\" } }` (or CW20 send) to supply liquidity."
        },
        {
            "step": 5,
            "tool": "sign_and_broadcast_tx",
            "description": "Sign and broadcast the supply transaction."
        }
    ],
    "outcome_checks": [
        "Transaction included in a block with success code 0.",
        "Query Amber Finance: supplied balance for user shows +1 WBTC and interest index initialized."
    ]
}