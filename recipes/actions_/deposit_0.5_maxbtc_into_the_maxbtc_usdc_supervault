{
    "tools": [
        {
            "step": 1,
            "label": "frontend",
            "introduction": "Obtains the connected Keplr wallet\u2019s Neutron address that will fund the maxBTC deposit.",
            "function": "getUserWalletAddress()",
            "usage": "const userAddr = await getUserWalletAddress();"
        },
        {
            "step": 2,
            "label": "backend",
            "introduction": "Queries a CW20 contract to return the raw token balance for a specific address.",
            "function": "cw20_balance(contract, addr)",
            "usage": "balance = cw20_balance(MAXBTC_CONTRACT, user_addr)"
        },
        {
            "step": 3,
            "label": "backend",
            "introduction": "Builds an `increase_allowance` message so the Supervault can spend the user\u2019s maxBTC.",
            "function": "construct_cw20_approve(spender, amount_micro)",
            "usage": "allow_msg = construct_cw20_approve(SUPERVAULT_CONTRACT, 500000)"
        },
        {
            "step": 4,
            "label": "frontend",
            "introduction": "Creates a MsgExecuteContract that calls the Supervault\u2019s `deposit` entry point.",
            "function": "constructTxWasmExecute(senderAddress, contractAddress, msg, funds)",
            "usage": "const depositMsg = constructTxWasmExecute(userAddr, SUPERVAULT_CONTRACT, { deposit: { amount: \"500000\" } });"
        },
        {
            "step": 5,
            "label": "frontend",
            "introduction": "Signs the allowance and deposit messages with the user\u2019s wallet and broadcasts the transaction bundle.",
            "function": "signAndBroadcast(signer, senderAddress, messages, fee, memo)",
            "usage": "const txHash = await signAndBroadcast(signer, userAddr, [allow_msg, depositMsg], \"auto\");"
        }
    ],
    "frontend": [
        "const userAddr = await getUserWalletAddress();//step: 1 Tool: get_user_wallet_address Desciption: Determine which wallet will provide the maxBTC deposit.",
        "const depositMsg = constructTxWasmExecute(userAddr, SUPERVAULT_CONTRACT, { deposit: { amount: \"500000\" } });//step: 4 Tool: construct_tx_contract_execute Desciption: Create the `deposit` execute message for the Supervault (e.g., `{ deposit: { amount: \"500000\" } }` if 6-decimals).",
        "const txHash = await signAndBroadcast(signer, userAddr, [allow_msg, depositMsg], \"auto\");//step: 5 Tool: sign_and_broadcast_tx Desciption: Sign and broadcast the allowance and deposit transactions."
    ],
    "backend": [
        "balance = cw20_balance(MAXBTC_CONTRACT, user_addr)#step: 2 Tool: query_cw20_balance Desciption: Confirm the wallet has at least 0.5 maxBTC available.",
        "allow_msg = construct_cw20_approve(SUPERVAULT_CONTRACT, 500000)#step: 3 Tool: construct_tx_cw20_increase_allowance Desciption: Approve the Supervault contract to spend 0.5 maxBTC on the user\u2019s behalf."
    ],
    "intent": "Deposit 0.5 maxBTC into the maxBTC/USDC Supervault",
    "workflow": [
        {
            "step": 1,
            "tool": "get_user_wallet_address",
            "description": "Determine which wallet will provide the maxBTC deposit."
        },
        {
            "step": 2,
            "tool": "query_cw20_balance",
            "description": "Confirm the wallet has at least 0.5 maxBTC available."
        },
        {
            "step": 3,
            "tool": "construct_tx_cw20_increase_allowance",
            "description": "Approve the Supervault contract to spend 0.5 maxBTC on the user\u2019s behalf."
        },
        {
            "step": 4,
            "tool": "construct_tx_contract_execute",
            "description": "Create the `deposit` execute message for the Supervault (e.g., `{ deposit: { amount: \"500000\" } }` if 6-decimals)."
        },
        {
            "step": 5,
            "tool": "sign_and_broadcast_tx",
            "description": "Sign and broadcast the allowance and deposit transactions."
        }
    ],
    "outcome_checks": [
        "Ensure the transaction is successfully committed on-chain.",
        "Query the Supervault to verify the wallet\u2019s vault shares reflect the 0.5 maxBTC deposit."
    ]
}