{
    "tools": [
        {
            "step": 1,
            "label": "backend",
            "introduction": "Fetches the full transaction details in JSON format from the Neutron LCD using the transaction hash.",
            "function": "get_raw_tx_endpoint(tx_hash)",
            "usage": "tx_json = await get_raw_tx_endpoint(\"A1B2C3\u2026\")"
        },
        {
            "step": 2,
            "label": "backend",
            "introduction": "Parses the transaction logs to pull out the _contract_address that was emitted during contract instantiation.",
            "function": "extract_contract_address(response)",
            "usage": "contract_addr = extract_contract_address(tx_json)"
        },
        {
            "step": 3,
            "label": "backend",
            "introduction": "Stores the extracted contract address in an environment variable so downstream commands can reference it.",
            "function": "export_passphrase_env(passphrase, ttl=60)",
            "usage": "export_passphrase_env(contract_addr)"
        }
    ],
    "frontend": [],
    "backend": [
        "tx_json = await get_raw_tx_endpoint(\"A1B2C3\u2026\")#step: 1 Tool: query_tx_json Desciption: Run `junod query tx <TX_HASH> --output json` to fetch the full transaction result.",
        "contract_addr = extract_contract_address(tx_json)#step: 2 Tool: parse_event_attribute Desciption: From the JSON result, locate `logs[0].events` array; find the event with `type == \"instantiate\"`; extract the attribute where `key == \"_contract_address\"`.",
        "export_passphrase_env(contract_addr)#step: 3 Tool: export_to_env Desciption: Optionally set `export CONTRACT_ADDR=<extracted_address>` for downstream commands."
    ],
    "intent": "Automatically extract the contract address from an instantiate txhash",
    "workflow": [
        {
            "step": 1,
            "tool": "query_tx_json",
            "description": "Run `junod query tx <TX_HASH> --output json` to fetch the full transaction result."
        },
        {
            "step": 2,
            "tool": "parse_event_attribute",
            "description": "From the JSON result, locate `logs[0].events` array; find the event with `type == \"instantiate\"`; extract the attribute where `key == \"_contract_address\"`."
        },
        {
            "step": 3,
            "tool": "export_to_env",
            "description": "Optionally set `export CONTRACT_ADDR=<extracted_address>` for downstream commands."
        }
    ],
    "outcome_checks": [
        "A valid bech32 address starting with the chain\u2019s prefix is returned.",
        "The address matches the one that appears when querying the contract\u2019s code info (`junod query wasm contract-info <address>`)."
    ]
}