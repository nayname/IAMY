{
    "tools": [
        {
            "step": 1,
            "label": "backend",
            "introduction": "open_config_file reads a TOML-based configuration file (like Cargo.toml) and returns all lines so they can be edited in-memory.",
            "function": "open_config_file(config_path=None)",
            "usage": "lines = open_config_file('Cargo.toml')"
        },
        {
            "step": 2,
            "label": "backend",
            "introduction": "modify_minimum_gas_prices takes the list of lines from a TOML file and inserts or updates a specific key/value entry before returning the updated list.",
            "function": "modify_minimum_gas_prices(lines, new_value=\"0stake\")",
            "usage": "updated_lines = modify_minimum_gas_prices(lines, 'cw-orch = { version = \"*\", optional = true }')"
        },
        {
            "step": 3,
            "label": "backend",
            "introduction": "save_and_close_file writes the (possibly modified) list of lines back to disk, persisting the new Cargo.toml.",
            "function": "save_and_close_file(lines, config_path=None)",
            "usage": "save_and_close_file(updated_lines, 'Cargo.toml')"
        },
        {
            "step": 4,
            "label": "backend",
            "introduction": "compile_wasm_contract invokes underlying Cargo commands to compile a project, ensuring that the dependency graph (and therefore the new optional cw-orch dependency) resolves without errors.",
            "function": "compile_wasm_contract(contract_dir)",
            "usage": "compile_wasm_contract('.')"
        }
    ],
    "frontend": [],
    "backend": [
        "lines = open_config_file('Cargo.toml')#step: 1 Tool: open_file Desciption: Open the project\u2019s `Cargo.toml` manifest for editing.",
        "updated_lines = modify_minimum_gas_prices(lines, 'cw-orch = { version = \"*\", optional = true }')#step: 2 Tool: insert_optional_dependency Desciption: Under `[target.'cfg(not(target_arch = \"wasm32\"))'.dependencies]` (or `[dev-dependencies]`), add `cw-orch = { version = \"*\", optional = true }`.",
        "save_and_close_file(updated_lines, 'Cargo.toml')#step: 3 Tool: save_file Desciption: Save changes to `Cargo.toml`.",
        "compile_wasm_contract('.')#step: 4 Tool: cargo_check Desciption: Run `cargo check` to ensure the dependency graph resolves successfully."
    ],
    "intent": "Add cw-orch as an optional dependency in Cargo.toml",
    "workflow": [
        {
            "step": 1,
            "tool": "open_file",
            "description": "Open the project\u2019s `Cargo.toml` manifest for editing."
        },
        {
            "step": 2,
            "tool": "insert_optional_dependency",
            "description": "Under `[target.'cfg(not(target_arch = \"wasm32\"))'.dependencies]` (or `[dev-dependencies]`), add `cw-orch = { version = \"*\", optional = true }`."
        },
        {
            "step": 3,
            "tool": "save_file",
            "description": "Save changes to `Cargo.toml`."
        },
        {
            "step": 4,
            "tool": "cargo_check",
            "description": "Run `cargo check` to ensure the dependency graph resolves successfully."
        }
    ],
    "outcome_checks": [
        "`cargo check` completes with exit code 0.",
        "`Cargo.toml` now contains the `cw-orch` entry with `optional = true`."
    ]
}