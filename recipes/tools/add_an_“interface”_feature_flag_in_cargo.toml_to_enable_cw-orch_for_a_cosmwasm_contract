{
    "tools": [
        {
            "step": 1,
            "label": "backend",
            "introduction": "Reads the specified TOML file (Cargo.toml) into memory so its contents can be edited.",
            "function": "open_config_file(config_path)",
            "usage": "lines = open_config_file(\"Cargo.toml\")"
        },
        {
            "step": 2,
            "label": "backend",
            "introduction": "undef",
            "function": "undef",
            "usage": "undef"
        },
        {
            "step": 3,
            "label": "backend",
            "introduction": "undef",
            "function": "undef",
            "usage": "undef"
        },
        {
            "step": 4,
            "label": "backend",
            "introduction": "Writes the modified lines back to Cargo.toml, creating a backup before saving.",
            "function": "save_and_close_file(lines, config_path)",
            "usage": "save_and_close_file(lines, \"Cargo.toml\")"
        },
        {
            "step": 5,
            "label": "backend",
            "introduction": "Runs the Cargo-based build process (via cargo-wasm) to ensure the project still compiles after enabling the new feature flag.",
            "function": "compile_wasm_contract(contract_dir)",
            "usage": "compile_wasm_contract(\".\")"
        }
    ],
    "frontend": [],
    "backend": [
        "lines = open_config_file(\"Cargo.toml\")#step: 1 Tool: open_file Desciption: Open the project\u2019s Cargo.toml in edit mode.",
        "undef#step: 2 Tool: add_dependency Desciption: Under the [dependencies] section, add cw-orch as an optional dependency, e.g.  cw-orch = { version = \"*\", optional = true }.",
        "undef#step: 3 Tool: append_feature_flag Desciption: Locate or create the [features] table and insert  interface = [\"dep:cw-orch\"]  to activate cw-orch when the feature is requested.",
        "save_and_close_file(lines, \"Cargo.toml\")#step: 4 Tool: save_file Desciption: Save Cargo.toml with the new dependency and feature flag.",
        "compile_wasm_contract(\".\")#step: 5 Tool: cargo_build Desciption: Run  cargo build --features interface  to be sure the build succeeds with the new flag."
    ],
    "intent": "Add an \u201cinterface\u201d feature flag in Cargo.toml to enable cw-orch for a CosmWasm contract",
    "workflow": [
        {
            "step": 1,
            "tool": "open_file",
            "description": "Open the project\u2019s Cargo.toml in edit mode."
        },
        {
            "step": 2,
            "tool": "add_dependency",
            "description": "Under the [dependencies] section, add cw-orch as an optional dependency, e.g.  cw-orch = { version = \"*\", optional = true }."
        },
        {
            "step": 3,
            "tool": "append_feature_flag",
            "description": "Locate or create the [features] table and insert  interface = [\"dep:cw-orch\"]  to activate cw-orch when the feature is requested."
        },
        {
            "step": 4,
            "tool": "save_file",
            "description": "Save Cargo.toml with the new dependency and feature flag."
        },
        {
            "step": 5,
            "tool": "cargo_build",
            "description": "Run  cargo build --features interface  to be sure the build succeeds with the new flag."
        }
    ],
    "outcome_checks": [
        "Cargo.toml now contains cw-orch as an optional dependency and an interface feature pointing at it.",
        "A build with cargo build --features interface completes without errors."
    ]
}