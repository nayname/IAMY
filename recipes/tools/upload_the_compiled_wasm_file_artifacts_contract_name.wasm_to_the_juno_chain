{
    "tools": [
        {
            "step": 1,
            "label": "backend",
            "introduction": "ensure_wasm_file confirms that artifacts/CONTRACT_NAME.wasm exists on disk and is within the permitted size limit, guaranteeing a trusted local build is present.",
            "function": "ensure_wasm_file(path)",
            "usage": "wasm_path = ensure_wasm_file('artifacts/CONTRACT_NAME.wasm')"
        },
        {
            "step": 2,
            "label": "backend",
            "introduction": "build_store_code_tx creates a MsgStoreCode transaction from the given WASM binary so it can be signed and broadcast to the Juno chain.",
            "function": "build_store_code_tx(client, wasm_path, memo='Upload contract')",
            "usage": "tx = build_store_code_tx(client, 'artifacts/CONTRACT_NAME.wasm')"
        },
        {
            "step": 3,
            "label": "backend",
            "introduction": "wait_for_tx_commit continuously polls the network for the provided Tx hash until the transaction is included in a block.",
            "function": "wait_for_tx_commit(tx_hash, client, timeout=120, poll=2.0)",
            "usage": "receipt = wait_for_tx_commit(tx_hash, client)"
        },
        {
            "step": 4,
            "label": "backend",
            "introduction": "get_code_id fetches the on-chain code list and returns the most recent code ID uploaded by the given uploader address.",
            "function": "get_code_id(client, uploader, explicit_code_id=None)",
            "usage": "new_code_id = get_code_id(client, uploader_address)"
        }
    ],
    "frontend": [],
    "backend": [
        "wasm_path = ensure_wasm_file('artifacts/CONTRACT_NAME.wasm')#step: 1 Tool: verify_local_wasm_artifact Desciption: Confirm that artifacts/CONTRACT_NAME.wasm exists and was produced by a trusted optimizer build.",
        "tx = build_store_code_tx(client, 'artifacts/CONTRACT_NAME.wasm')#step: 2 Tool: junod_tx_wasm_store Desciption: Run `junod tx wasm store artifacts/CONTRACT_NAME.wasm --from <key> --chain-id <chain-id> --gas auto --gas-adjustment 1.3 -y` to submit the code to chain.",
        "receipt = wait_for_tx_commit(tx_hash, client)#step: 3 Tool: wait_for_tx_commit Desciption: Poll the Tx hash until it is included in a block.",
        "new_code_id = get_code_id(client, uploader_address)#step: 4 Tool: junod_query_wasm_list_code Desciption: Fetch the on-chain code list to retrieve and display the new code ID."
    ],
    "intent": "Upload the compiled wasm file artifacts/CONTRACT_NAME.wasm to the Juno chain",
    "workflow": [
        {
            "step": 1,
            "tool": "verify_local_wasm_artifact",
            "description": "Confirm that artifacts/CONTRACT_NAME.wasm exists and was produced by a trusted optimizer build."
        },
        {
            "step": 2,
            "tool": "junod_tx_wasm_store",
            "description": "Run `junod tx wasm store artifacts/CONTRACT_NAME.wasm --from <key> --chain-id <chain-id> --gas auto --gas-adjustment 1.3 -y` to submit the code to chain."
        },
        {
            "step": 3,
            "tool": "wait_for_tx_commit",
            "description": "Poll the Tx hash until it is included in a block."
        },
        {
            "step": 4,
            "tool": "junod_query_wasm_list_code",
            "description": "Fetch the on-chain code list to retrieve and display the new code ID."
        }
    ],
    "outcome_checks": [
        "Transaction returns code 0 (success).",
        "New code ID appears in `junod query wasm list-code` with the correct checksum."
    ]
}