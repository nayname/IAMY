{
    "tools": [
        {
            "step": 1,
            "label": "backend",
            "introduction": "build_store_code_tx creates a MsgStoreCode transaction that uploads a compiled Wasm binary to the chain, fulfilling the contract-code upload step.",
            "function": "build_store_code_tx(client, wasm_path)",
            "usage": "tx = build_store_code_tx(client, \"/path/to/contract.wasm\")"
        },
        {
            "step": 2,
            "label": "backend",
            "introduction": "extract_code_id_from_tx scans the transaction response logs and returns the code ID assigned to the newly stored contract.",
            "function": "extract_code_id_from_tx(response)",
            "usage": "code_id = extract_code_id_from_tx(tx_response)"
        },
        {
            "step": 3,
            "label": "backend",
            "introduction": "No available function exports an arbitrary CODE_ID shell variable for later use.",
            "function": "undef",
            "usage": "undef"
        }
    ],
    "frontend": [],
    "backend": [
        "tx = build_store_code_tx(client, \"/path/to/contract.wasm\")#step: 1 Tool: upload_contract_code Desciption: Run: wasmd tx wasm store <PATH_TO_WASM> --from <SIGNER> --gas auto --fees <AMOUNT><DENOM> --node <RPC> --broadcast-mode block --output json > tx.json",
        "code_id = extract_code_id_from_tx(tx_response)#step: 2 Tool: extract_code_id_from_tx_response Desciption: Parse tx.json with: CODE_ID=$(jq -r '.logs[0].events[] | select(.type==\"store_code\") | .attributes[-1].value' tx.json)",
        "undef#step: 3 Tool: export_shell_variable_CODE_ID Desciption: Export the variable so subsequent shell commands can reference it: export CODE_ID"
    ],
    "intent": "Store the returned code ID from a wasm store transaction into a shell variable CODE_ID",
    "workflow": [
        {
            "step": 1,
            "tool": "upload_contract_code",
            "description": "Run: wasmd tx wasm store <PATH_TO_WASM> --from <SIGNER> --gas auto --fees <AMOUNT><DENOM> --node <RPC> --broadcast-mode block --output json > tx.json"
        },
        {
            "step": 2,
            "tool": "extract_code_id_from_tx_response",
            "description": "Parse tx.json with: CODE_ID=$(jq -r '.logs[0].events[] | select(.type==\"store_code\") | .attributes[-1].value' tx.json)"
        },
        {
            "step": 3,
            "tool": "export_shell_variable_CODE_ID",
            "description": "Export the variable so subsequent shell commands can reference it: export CODE_ID"
        }
    ],
    "outcome_checks": [
        "echo $CODE_ID prints a non-empty numeric value.",
        "CODE_ID matches the code_id reported by wasmd query wasm list-code --node <RPC>."
    ]
}