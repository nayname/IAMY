{
    "tools": [
        {
            "step": 1,
            "label": "backend",
            "introduction": "The codebase does not contain any implemented helper that can automatically confirm or request the path of an existing CosmWasm contract crate.",
            "function": "undef",
            "usage": "undef"
        },
        {
            "step": 2,
            "label": "backend",
            "introduction": "No helper is available for programmatically editing Cargo.toml to add a dev-dependency.",
            "function": "undef",
            "usage": "undef"
        },
        {
            "step": 3,
            "label": "backend",
            "introduction": "Creates (or overwrites) a file on disk at any path you specify.",
            "function": "write_proposal_file(msg_add_schedule, filename)",
            "usage": "write_proposal_file({}, \"src/interface.rs\")"
        },
        {
            "step": 4,
            "label": "backend",
            "introduction": "Writes a predefined code template into a source file if that snippet is not yet present.",
            "function": "create_preblocker_fn(app_dir)",
            "usage": "create_preblocker_fn(\"./src\")"
        },
        {
            "step": 5,
            "label": "backend",
            "introduction": "Runs Cargo commands to compile a CosmWasm contract and therefore validates that the Rust project builds successfully.",
            "function": "compile_wasm_contract(contract_dir)",
            "usage": "compile_wasm_contract(\".\")"
        }
    ],
    "frontend": [],
    "backend": [
        "undef#step: 1 Tool: locate_contract_crate Desciption: Confirm (or ask for) the path of the CosmWasm contract crate that already defines InstantiateMsg, ExecuteMsg and QueryMsg.",
        "undef#step: 2 Tool: add_cargo_dependency Desciption: Add `cw-orch = { version = \"^0.9\", default-features = false, features = [\"derive\"] }` under [dev-dependencies] in Cargo.toml so the interface macro is only pulled in for testing & scripting.",
        "write_proposal_file({}, \"src/interface.rs\")#step: 3 Tool: create_file Desciption: Generate a new file `src/interface.rs` (or overwrite it if it exists).",
        "create_preblocker_fn(\"./src\")#step: 4 Tool: write_rust_code Desciption: Insert the following boilerplate into interface.rs:\n\n```rust\nuse cosmwasm_std::{Addr, Response, DepsMut, Env, MessageInfo};\nuse cw_orch::interface;\n\n#[interface]\npub trait CounterContract {\n    type Error = anyhow::Error;\n    type InstantiateMsg = crate::msg::InstantiateMsg;\n    type ExecuteMsg = crate::msg::ExecuteMsg;\n    type QueryMsg = crate::msg::QueryMsg;\n\n    // (Optional) declare helper wrappers, e.g.:\n    fn increment(&self) -> Result<Response, Self::Error>;\n}\n```\n",
        "compile_wasm_contract(\".\")#step: 5 Tool: cargo_check Desciption: Run `cargo check --tests` in the contract crate to ensure the interface compiles and the macro expansion succeeds."
    ],
    "intent": "Generate interface.rs for a CosmWasm contract with the cw-orch #[interface] macro",
    "workflow": [
        {
            "step": 1,
            "tool": "locate_contract_crate",
            "description": "Confirm (or ask for) the path of the CosmWasm contract crate that already defines InstantiateMsg, ExecuteMsg and QueryMsg."
        },
        {
            "step": 2,
            "tool": "add_cargo_dependency",
            "description": "Add `cw-orch = { version = \"^0.9\", default-features = false, features = [\"derive\"] }` under [dev-dependencies] in Cargo.toml so the interface macro is only pulled in for testing & scripting."
        },
        {
            "step": 3,
            "tool": "create_file",
            "description": "Generate a new file `src/interface.rs` (or overwrite it if it exists)."
        },
        {
            "step": 4,
            "tool": "write_rust_code",
            "description": "Insert the following boilerplate into interface.rs:\n\n```rust\nuse cosmwasm_std::{Addr, Response, DepsMut, Env, MessageInfo};\nuse cw_orch::interface;\n\n#[interface]\npub trait CounterContract {\n    type Error = anyhow::Error;\n    type InstantiateMsg = crate::msg::InstantiateMsg;\n    type ExecuteMsg = crate::msg::ExecuteMsg;\n    type QueryMsg = crate::msg::QueryMsg;\n\n    // (Optional) declare helper wrappers, e.g.:\n    fn increment(&self) -> Result<Response, Self::Error>;\n}\n```\n"
        },
        {
            "step": 5,
            "tool": "cargo_check",
            "description": "Run `cargo check --tests` in the contract crate to ensure the interface compiles and the macro expansion succeeds."
        }
    ],
    "outcome_checks": [
        "cargo check finishes with 0 errors.",
        "`src/interface.rs` exists and the generated trait matches the contract messages."
    ]
}