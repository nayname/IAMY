[
    {
        "intent": "List Republic validators ordered by their achieved FLOPs benchmark (highest to lowest).",
        "workflow": [
            {
                "step": 1,
                "tool": "republic_bff_load_network_config",
                "description": "Load Republic network configuration (RPC/indexer endpoints, chain ID, bech32 prefixes) from environment or config store to ensure backend queries target the correct network."
            },
            {
                "step": 2,
                "tool": "republic_bff_query_all_validator_compute_benchmarks",
                "description": "Query the Republic indexer or RPC/CLI to fetch the latest compute benchmark summary for all validators, including validator address, moniker, reputation score, and benchmark metrics (throughput, inference, achieved FLOPs)."
            },
            {
                "step": 3,
                "tool": "republic_bff_filter_validators_for_ranking",
                "description": "Filter out validators that should not appear in the ranking (e.g., missing achieved FLOPs data, tombstoned, or optionally unbonded/jailed validators) according to application policy."
            },
            {
                "step": 4,
                "tool": "republic_bff_sort_validators_by_metric",
                "description": "Sort the remaining validators in descending order by the achieved FLOPs metric; break ties deterministically (e.g., by reputation, then address)."
            },
            {
                "step": 5,
                "tool": "republic_bff_format_validator_ranking_response",
                "description": "Format the sorted validator list into a structured response including at minimum validator address, moniker, achieved FLOPs score, last benchmark timestamp, reputation, and optional stake, ready for the frontend to render."
            }
        ],
        "outcome_checks": [
            "The returned list is non-empty or an explicit 'no validators found' response is produced.",
            "Validators in the list are strictly ordered by achieved FLOPs in descending order.",
            "Each listed validator includes a non-null achieved FLOPs value and a valid address.",
            "Sorting is deterministic for validators with equal achieved FLOPs (e.g., consistent tie-breaking)."
        ]
    },
    {
        "intent": "Compare compute benchmarks across the top 10 Republic validators by stake.",
        "workflow": [
            {
                "step": 1,
                "tool": "republic_bff_load_network_config",
                "description": "Load Republic network configuration (staking module/indexer endpoints, chain ID, bech32 prefixes) to prepare for staking and benchmark queries."
            },
            {
                "step": 2,
                "tool": "republic_bff_query_validators_by_stake",
                "description": "Query the staking module or indexer to retrieve all active validators with their total delegated stake and status, sorted by stake in descending order."
            },
            {
                "step": 3,
                "tool": "republic_bff_select_top_n_validators",
                "description": "Select the top 10 validators by total delegated stake, or fewer if the active validator set has less than 10 members."
            },
            {
                "step": 4,
                "tool": "republic_bff_query_compute_benchmarks_for_validators",
                "description": "For the selected validator addresses, batch-query the compute benchmark store or indexer to fetch their latest throughput, inference, and achieved FLOPs metrics, along with benchmark timestamps and reputation scores."
            },
            {
                "step": 5,
                "tool": "republic_bff_assemble_comparative_benchmark_view",
                "description": "Combine stake data and benchmark metrics into a comparative structure (e.g., an array of records keyed by validator address) including stake, throughput, inference score, achieved FLOPs, reputation, and last benchmark time for each validator."
            },
            {
                "step": 6,
                "tool": "republic_bff_format_top_validator_benchmark_comparison_response",
                "description": "Format the result for frontend consumption, preserving the ordering by stake and clearly labeling each benchmark metric so that the frontend can render tables or charts."
            }
        ],
        "outcome_checks": [
            "The response contains at most 10 validators, or fewer if the network has less than 10 active validators.",
            "Validators in the response are ordered by total delegated stake in descending order.",
            "Each validator entry includes valid values for throughput, inference, and achieved FLOPs, or explicitly marks missing metrics.",
            "Stake and benchmark values are consistent with the underlying staking and benchmark data sources at query time."
        ]
    },
    {
        "intent": "Show throughput, inference, and achieved FLOPs benchmark results for a specific Republic validator address.",
        "workflow": [
            {
                "step": 1,
                "tool": "republic_bff_validate_validator_address_format",
                "description": "Validate that the provided validator address is well-formed for Republic (correct bech32 prefix and length) and normalize it (e.g., lowercase) if necessary."
            },
            {
                "step": 2,
                "tool": "republic_bff_verify_validator_exists",
                "description": "Query the staking module or indexer to confirm that a validator with this address exists and optionally fetch basic metadata (moniker, status, total stake, reputation)."
            },
            {
                "step": 3,
                "tool": "republic_bff_query_validator_compute_benchmarks",
                "description": "Fetch the latest compute benchmark results for this validator from the compute benchmark store or indexer, including at minimum throughput benchmark score, inference benchmark score, achieved FLOPs, benchmark timestamps, and any relevant job IDs or versions."
            },
            {
                "step": 4,
                "tool": "republic_bff_normalize_benchmark_units",
                "description": "Normalize the raw benchmark values into consistent units and formats (e.g., GFLOPs vs FLOPs, standardized throughput units, normalized inference score) so they are comparable across validators and easy to present."
            },
            {
                "step": 5,
                "tool": "republic_bff_format_single_validator_benchmark_response",
                "description": "Assemble a response object containing the validator identity (address, moniker), current status, and the requested metrics (throughput, inference, achieved FLOPs) with timestamps and units, ready for display."
            }
        ],
        "outcome_checks": [
            "If the address is invalid, an explicit validation error is returned instead of empty data.",
            "If the validator does not exist, a clear 'validator not found' error or empty-state response is produced.",
            "The response for a valid validator includes values or explicit 'not available' flags for throughput, inference, and achieved FLOPs, plus benchmark timestamps.",
            "Metric units and scales are clearly specified and consistent with Republic\u2019s benchmark definitions."
        ]
    },
    {
        "intent": "View network-wide average throughput, inference, and achieved FLOPs benchmark scores across Republic validators.",
        "workflow": [
            {
                "step": 1,
                "tool": "republic_bff_load_network_config",
                "description": "Load Republic network configuration and data source endpoints for validator and benchmark queries."
            },
            {
                "step": 2,
                "tool": "republic_bff_query_all_validator_compute_benchmarks",
                "description": "Fetch the latest compute benchmark metrics (throughput, inference, achieved FLOPs) for all validators from the compute benchmark store or indexer."
            },
            {
                "step": 3,
                "tool": "republic_bff_filter_validators_for_network_stats",
                "description": "Filter out validators that should not be included in network-wide averages (e.g., missing metrics, tombstoned, or optionally unbonded/jailed) according to network analytics policy."
            },
            {
                "step": 4,
                "tool": "republic_bff_compute_unweighted_benchmark_averages",
                "description": "Compute the unweighted arithmetic mean for throughput, inference, and achieved FLOPs across the remaining validators; track the number of validators contributing to each metric."
            },
            {
                "step": 5,
                "tool": "republic_bff_optional_compute_stake_weighted_averages",
                "description": "Optionally, join staking data (total delegated stake per validator) and compute stake-weighted averages for each metric for richer network analytics, if required by the application."
            },
            {
                "step": 6,
                "tool": "republic_bff_format_network_benchmark_summary_response",
                "description": "Format a summary object containing network-wide average throughput, inference, and achieved FLOPs (unweighted and, if computed, stake-weighted), along with the validator counts and any calculation assumptions."
            }
        ],
        "outcome_checks": [
            "If no validators with valid benchmark data exist, a clear 'no data available' response is returned instead of NaN or invalid numeric values.",
            "Average metrics are numeric and computed over the documented number of contributing validators.",
            "If both unweighted and stake-weighted averages are provided, they are clearly labeled and derived from consistent underlying data.",
            "The metrics\u2019 units and definitions match Republic\u2019s benchmark specifications."
        ]
    },
    {
        "intent": "Show Delegated Proof-of-Stake (DPoS) delegation details for a specific Republic delegator address.",
        "workflow": [
            {
                "step": 1,
                "tool": "republic_bff_validate_delegator_address_format",
                "description": "Validate that the provided delegator address is a well-formed Republic account address (correct bech32 prefix and length) and normalize it if needed."
            },
            {
                "step": 2,
                "tool": "republic_bff_query_delegations_for_delegator",
                "description": "Query the staking module or indexer for all delegations associated with this delegator address, retrieving per-validator shares and/or token amounts, validator operator addresses, and delegation statuses."
            },
            {
                "step": 3,
                "tool": "republic_bff_query_validator_metadata_for_delegations",
                "description": "For all validators referenced in the delegations, batch-query validator metadata (moniker, status, commission rate, total stake, reputation) from the staking/indexer APIs."
            },
            {
                "step": 4,
                "tool": "republic_bff_query_delegation_rewards",
                "description": "Query the distribution module or indexer for pending staking rewards for each delegation (delegator-validator pair), if supported by the network."
            },
            {
                "step": 5,
                "tool": "republic_bff_aggregate_delegation_view",
                "description": "Combine delegation entries, validator metadata, and pending rewards into a unified structure for this delegator, including per-validator delegation amount, share of delegator\u2019s total stake, validator status, commission, and rewards."
            },
            {
                "step": 6,
                "tool": "republic_bff_compute_delegator_totals",
                "description": "Compute aggregate statistics for the delegator, such as total staked REP, number of validators delegated to, and total pending rewards."
            },
            {
                "step": 7,
                "tool": "republic_bff_format_delegator_dpos_details_response",
                "description": "Format the full DPoS delegation details into a response object containing per-validator delegation breakdown and overall totals, ready for frontend rendering."
            }
        ],
        "outcome_checks": [
            "If the delegator address is invalid, a clear validation error is returned instead of an empty or misleading result.",
            "If the delegator has no delegations, the response explicitly indicates 'no active delegations' rather than returning null or errors.",
            "The sum of per-validator delegated amounts matches the computed total staked amount for the delegator within expected rounding tolerances.",
            "Each delegation entry references a valid validator with consistent metadata (address, moniker, status), and any pending rewards values align with the distribution data source."
        ]
    }
]